<div class="d-flex justify-content-between">
  <div class="container mx-4">
    <div class="row">
      <% @books.each do |book| %>
        <div class="col-4">
          <div class="card-style grow">
            <%= link_to book_path(book) do %>
            <div class="card-img-thumbnail">
              <% if book.photo.attached? %>
                <%= cl_image_tag book.photo.key, height: 250, width: 200 %>
              <% else %>
                <%= image_tag book.cover_url, height: 250, width: 200 %>
              <% end %>
            </div>
            <div>
              <h1><%= book.title %></h1>
            </div>
            <p class="text-center"><small>
              <% if book.rating %>
                <% book.rating.times do %>
                  <span><i class="fas fa-star text-warning"> </i></span>
                <% end %>
                <% (5- book.rating).times do %>
                  <span> <i class="far fa-star text-warning"> </i></span>
                <% end %>
              <% end %>

            </small>
            </p>
          </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
  <div class="map-container">
    <div id="map"
         style="width: 100%; height: 100vh;"
         data-markers="<%= @markers.to_json %>"
         data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>







